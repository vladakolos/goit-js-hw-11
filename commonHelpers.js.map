{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43840799-e71ea23b4db8ae9f9c01a8841';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = query => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(BASE_URL + '?' + searchParams.toString());\n};\n","export const renderTemplate = data => {\n  return `\n    <a href=\"${data.largeImageURL}\" class=\"item\">\n      <img src=\"${data.webformatURL}\" alt=\"\" alt=\"${data.tags}\"/>\n      <div class=\"data\">\n        <p><b>Likes</b> <span>${data.likes}</span></p>\n        <p><b>Views</b> <span>${data.views}</span></p>\n        <p><b>Comments</b> <span>${data.comments}</span></p>\n        <p><b>Downloads</b> <span>${data.downloads}</span></p>\n      </div>\n    </a>\n  `;\n};\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderTemplate } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formEl = document.querySelector('form.form-search');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {});\n\nif (formEl) {\n  formEl.addEventListener('submit', event => {\n    event.preventDefault();\n\n    const inputValue = formEl.elements.search.value;\n\n    if (!inputValue) {\n      iziToast.error({\n        message: 'Please enter a search term',\n        position: 'topRight',\n        class: 'error',\n        color: 'white',\n      });\n    } else {\n      galleryEl.innerHTML = '';\n      galleryEl.classList.add('is-load');\n      loaderEl.classList.remove('is-hidden');\n      fetchImages(inputValue)\n        .catch(error => {\n          console.log(error);\n        })\n        .then(response => response.json())\n        .then(data => {\n          galleryEl.classList.remove('is-load');\n          const imagesHtml = [];\n\n          if (data.total === 0) {\n            iziToast.error({\n              message:\n                'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight',\n              class: 'error',\n              color: 'white',\n            });\n          } else {\n            data.hits.forEach(image => {\n              imagesHtml.push(renderTemplate(image));\n            });\n\n            galleryEl.innerHTML = imagesHtml.join('');\n            lightbox.refresh();\n          }\n        })\n        .finally(() => {\n          loaderEl.classList.add('is-hidden');\n        });\n\n      formEl.reset();\n    }\n  });\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","searchParams","renderTemplate","data","formEl","galleryEl","loaderEl","lightbox","SimpleLightbox","event","inputValue","error","response","imagesHtml","iziToast","image"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAcC,GAAS,CAClC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAMF,EAAW,IAAMG,EAAa,SAAU,CAAA,CACvD,ECbaC,EAAiBC,GACrB;AAAA,eACMA,EAAK,aAAa;AAAA,kBACfA,EAAK,YAAY,iBAAiBA,EAAK,IAAI;AAAA;AAAA,gCAE7BA,EAAK,KAAK;AAAA,gCACVA,EAAK,KAAK;AAAA,mCACPA,EAAK,QAAQ;AAAA,oCACZA,EAAK,SAAS;AAAA;AAAA;AAAA,ICD5CC,EAAS,SAAS,cAAc,kBAAkB,EAClDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAEhDJ,GACFA,EAAO,iBAAiB,SAAUK,GAAS,CACzCA,EAAM,eAAc,EAEpB,MAAMC,EAAaN,EAAO,SAAS,OAAO,MAErCM,GAQHL,EAAU,UAAY,GACtBA,EAAU,UAAU,IAAI,SAAS,EACjCC,EAAS,UAAU,OAAO,WAAW,EACrCP,EAAYW,CAAU,EACnB,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CAC3B,CAAS,EACA,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKT,GAAQ,CACZE,EAAU,UAAU,OAAO,SAAS,EACpC,MAAMQ,EAAa,CAAA,EAEfV,EAAK,QAAU,EACjBW,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,MAAO,QACP,MAAO,OACrB,CAAa,GAEDX,EAAK,KAAK,QAAQY,GAAS,CACzBF,EAAW,KAAKX,EAAea,CAAK,CAAC,CACnD,CAAa,EAEDV,EAAU,UAAYQ,EAAW,KAAK,EAAE,EACxCN,EAAS,QAAO,EAE5B,CAAS,EACA,QAAQ,IAAM,CACbD,EAAS,UAAU,IAAI,WAAW,CAC5C,CAAS,EAEHF,EAAO,MAAK,GAxCZU,EAAS,MAAM,CACb,QAAS,6BACT,SAAU,WACV,MAAO,QACP,MAAO,OACf,CAAO,CAqCP,CAAG"}